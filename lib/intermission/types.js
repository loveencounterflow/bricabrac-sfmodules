(function() {
  'use strict';
  var Intermission_typespace, Type, Typespace, rpr;

  //===========================================================================================================
  // { debug,                } = console
  ({rpr} = (require('../loupe-brics')).require_loupe());

  ({Type, Typespace} = (require('../unstable-nanotypes-brics')).require_nanotypes_v2());

  //===========================================================================================================
  Intermission_typespace = class Intermission_typespace extends Typespace {
    //---------------------------------------------------------------------------------------------------------
    static integer(x) {
      this.assign({x});
      if (Number.isSafeInteger(x)) {
        return true;
      }
      if (Number.isFinite(x)) {
        return this.fail(`${rpr(x)} is a non-integer number`, {
          fraction: x % 1
        });
      }
      return this.fail(`${rpr(x)} is not even a finite number`);
    }

    //---------------------------------------------------------------------------------------------------------
    static text(x) {
      this.assign({x});
      if ((typeof x) === 'string') {
        return true;
      }
      return false;
    }

    //---------------------------------------------------------------------------------------------------------
    static point(x) {
      this.assign({x});
      if (this.T.integer.isa(x)) {
        return true;
      }
      if (!(this.T.text.isa(x))) {
        return this.fail(`${rpr(x)} is not an integer and not a text`);
      }
      if (!((Array.from(x)).length === 1)) {
        return this.fail(`${rpr(x)} is a text but not with a single codepoint`);
      }
      return true;
    }

  };

  // return true if Number.isSafeInteger x
  // return @fail "#{rpr x} is a non-integer number", { fraction: x % 1, } if Number.isFinite x
  // return @fail "#{rpr x} is not even a finite number"

  //===========================================================================================================
  module.exports = {
    T: new Intermission_typespace()
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2ludGVybWlzc2lvbi90eXBlcy5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFBQTtBQUFBLE1BQUEsc0JBQUEsRUFBQSxJQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUE7Ozs7RUFLQSxDQUFBLENBQUUsR0FBRixDQUFBLEdBQTRCLENBQUUsT0FBQSxDQUFRLGdCQUFSLENBQUYsQ0FBNEIsQ0FBQyxhQUE3QixDQUFBLENBQTVCOztFQUNBLENBQUEsQ0FBRSxJQUFGLEVBQ0UsU0FERixDQUFBLEdBQzRCLENBQUUsT0FBQSxDQUFRLDZCQUFSLENBQUYsQ0FBeUMsQ0FBQyxvQkFBMUMsQ0FBQSxDQUQ1QixFQU5BOzs7RUFXTSx5QkFBTixNQUFBLHVCQUFBLFFBQXFDLFVBQXJDLENBQUE7O0lBR1ksT0FBVCxPQUFTLENBQUUsQ0FBRixDQUFBO01BQ1IsSUFBQyxDQUFBLE1BQUQsQ0FBUSxDQUFFLENBQUYsQ0FBUjtNQUNBLElBQWUsTUFBTSxDQUFDLGFBQVAsQ0FBcUIsQ0FBckIsQ0FBZjtBQUFBLGVBQU8sS0FBUDs7TUFDQSxJQUF5RSxNQUFNLENBQUMsUUFBUCxDQUFnQixDQUFoQixDQUF6RTtBQUFBLGVBQU8sSUFBQyxDQUFBLElBQUQsQ0FBTSxDQUFBLENBQUEsQ0FBRyxHQUFBLENBQUksQ0FBSixDQUFILENBQUEsd0JBQUEsQ0FBTixFQUEwQztVQUFFLFFBQUEsRUFBVSxDQUFBLEdBQUk7UUFBaEIsQ0FBMUMsRUFBUDs7QUFDQSxhQUFPLElBQUMsQ0FBQSxJQUFELENBQU0sQ0FBQSxDQUFBLENBQUcsR0FBQSxDQUFJLENBQUosQ0FBSCxDQUFBLDRCQUFBLENBQU47SUFKQyxDQURaOzs7SUFRUyxPQUFOLElBQU0sQ0FBRSxDQUFGLENBQUE7TUFDTCxJQUFDLENBQUEsTUFBRCxDQUFRLENBQUUsQ0FBRixDQUFSO01BQ0EsSUFBZSxDQUFFLE9BQU8sQ0FBVCxDQUFBLEtBQWdCLFFBQS9CO0FBQUEsZUFBTyxLQUFQOzthQUNDO0lBSEksQ0FSVDs7O0lBY1UsT0FBUCxLQUFPLENBQUUsQ0FBRixDQUFBO01BQ04sSUFBQyxDQUFBLE1BQUQsQ0FBUSxDQUFFLENBQUYsQ0FBUjtNQUNBLElBQWlCLElBQUMsQ0FBQSxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQVgsQ0FBZSxDQUFmLENBQWpCO0FBQUEsZUFBTyxLQUFQOztNQUNBLEtBQXlFLENBQUUsSUFBQyxDQUFBLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBUixDQUFZLENBQVosQ0FBRixDQUF6RTtBQUFBLGVBQU8sSUFBQyxDQUFBLElBQUQsQ0FBTSxDQUFBLENBQUEsQ0FBRyxHQUFBLENBQUksQ0FBSixDQUFILENBQUEsaUNBQUEsQ0FBTixFQUFQOztNQUNBLEtBQXlFLENBQUUsQ0FBRSxLQUFLLENBQUMsSUFBTixDQUFXLENBQVgsQ0FBRixDQUFnQixDQUFDLE1BQWpCLEtBQTJCLENBQTdCLENBQXpFO0FBQUEsZUFBTyxJQUFDLENBQUEsSUFBRCxDQUFNLENBQUEsQ0FBQSxDQUFHLEdBQUEsQ0FBSSxDQUFKLENBQUgsQ0FBQSwwQ0FBQSxDQUFOLEVBQVA7O2FBQ0M7SUFMSzs7RUFoQlYsRUFYQTs7Ozs7OztFQXNDQSxNQUFNLENBQUMsT0FBUCxHQUFpQjtJQUFFLENBQUEsRUFBSyxJQUFJLHNCQUFKLENBQUE7RUFBUDtBQXRDakIiLCJzb3VyY2VzQ29udGVudCI6WyJcblxuJ3VzZSBzdHJpY3QnXG5cblxuIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jIHsgZGVidWcsICAgICAgICAgICAgICAgIH0gPSBjb25zb2xlXG57IHJwciwgICAgICAgICAgICAgICAgICB9ID0gKCByZXF1aXJlICcuLi9sb3VwZS1icmljcycgKS5yZXF1aXJlX2xvdXBlKClcbnsgVHlwZSxcbiAgVHlwZXNwYWNlLCAgICAgICAgICAgIH0gPSAoIHJlcXVpcmUgJy4uL3Vuc3RhYmxlLW5hbm90eXBlcy1icmljcycgKS5yZXF1aXJlX25hbm90eXBlc192MigpXG5cblxuIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBJbnRlcm1pc3Npb25fdHlwZXNwYWNlIGV4dGVuZHMgVHlwZXNwYWNlXG5cbiAgIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBAaW50ZWdlcjogKCB4ICkgLT5cbiAgICBAYXNzaWduIHsgeCwgfVxuICAgIHJldHVybiB0cnVlIGlmIE51bWJlci5pc1NhZmVJbnRlZ2VyIHhcbiAgICByZXR1cm4gQGZhaWwgXCIje3JwciB4fSBpcyBhIG5vbi1pbnRlZ2VyIG51bWJlclwiLCB7IGZyYWN0aW9uOiB4ICUgMSwgfSBpZiBOdW1iZXIuaXNGaW5pdGUgeFxuICAgIHJldHVybiBAZmFpbCBcIiN7cnByIHh9IGlzIG5vdCBldmVuIGEgZmluaXRlIG51bWJlclwiXG5cbiAgIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBAdGV4dDogKCB4ICkgLT5cbiAgICBAYXNzaWduIHsgeCwgfVxuICAgIHJldHVybiB0cnVlIGlmICggdHlwZW9mIHggKSBpcyAnc3RyaW5nJ1xuICAgIDtmYWxzZVxuXG4gICMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgQHBvaW50OiAoIHggKSAtPlxuICAgIEBhc3NpZ24geyB4LCB9XG4gICAgcmV0dXJuIHRydWUgaWYgKCBAVC5pbnRlZ2VyLmlzYSB4IClcbiAgICByZXR1cm4gQGZhaWwgXCIje3JwciB4fSBpcyBub3QgYW4gaW50ZWdlciBhbmQgbm90IGEgdGV4dFwiICAgICAgICAgIHVubGVzcyAoIEBULnRleHQuaXNhIHggKVxuICAgIHJldHVybiBAZmFpbCBcIiN7cnByIHh9IGlzIGEgdGV4dCBidXQgbm90IHdpdGggYSBzaW5nbGUgY29kZXBvaW50XCIgdW5sZXNzICggKCBBcnJheS5mcm9tIHggKS5sZW5ndGggaXMgMSApXG4gICAgO3RydWVcbiAgICAjIHJldHVybiB0cnVlIGlmIE51bWJlci5pc1NhZmVJbnRlZ2VyIHhcbiAgICAjIHJldHVybiBAZmFpbCBcIiN7cnByIHh9IGlzIGEgbm9uLWludGVnZXIgbnVtYmVyXCIsIHsgZnJhY3Rpb246IHggJSAxLCB9IGlmIE51bWJlci5pc0Zpbml0ZSB4XG4gICAgIyByZXR1cm4gQGZhaWwgXCIje3JwciB4fSBpcyBub3QgZXZlbiBhIGZpbml0ZSBudW1iZXJcIlxuXG4jPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbm1vZHVsZS5leHBvcnRzID0geyBUOiAoIG5ldyBJbnRlcm1pc3Npb25fdHlwZXNwYWNlKCkgKSwgfVxuXG5cbiJdfQ==
