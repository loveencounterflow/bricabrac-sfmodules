(function() {
  'use strict';
  var Intermission_typespace, Type, Typespace, rpr;

  //===========================================================================================================
  // { debug,                } = console
  ({rpr} = (require('./loupe-brics')).require_loupe());

  ({Type, Typespace} = (require('./unstable-nanotypes-brics')).require_nanotypes_v2());

  //===========================================================================================================
  Intermission_typespace = class Intermission_typespace extends Typespace {
    //---------------------------------------------------------------------------------------------------------
    static integer(x) {
      this.assign({x});
      if (Number.isSafeInteger(x)) {
        return true;
      }
      if (Number.isFinite(x)) {
        return this.fail(`${rpr(x)} is a non-integer number`, {
          fraction: x % 1
        });
      }
      return this.fail(`${rpr(x)} is not even a finite number`);
    }

    //---------------------------------------------------------------------------------------------------------
    static text(x) {
      this.assign({x});
      if ((typeof x) === 'string') {
        return true;
      }
      return false;
    }

    //---------------------------------------------------------------------------------------------------------
    static point(x) {
      this.assign({x});
      if (this.T.integer.isa(x)) {
        return true;
      }
      if (!(this.T.text.isa(x))) {
        return this.fail(`${rpr(x)} is not an integer and not a text`);
      }
      if (!((Array.from(x)).length === 1)) {
        return this.fail(`${rpr(x)} is a text but not with a single codepoint`);
      }
      return true;
    }

  };

  // return true if Number.isSafeInteger x
  // return @fail "#{rpr x} is a non-integer number", { fraction: x % 1, } if Number.isFinite x
  // return @fail "#{rpr x} is not even a finite number"

  //===========================================================================================================
  module.exports = {
    T: new Intermission_typespace()
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2ludGVybWlzc2lvbi10eXBlcy5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFBQTtBQUFBLE1BQUEsc0JBQUEsRUFBQSxJQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUE7Ozs7RUFLQSxDQUFBLENBQUUsR0FBRixDQUFBLEdBQTRCLENBQUUsT0FBQSxDQUFRLGVBQVIsQ0FBRixDQUEyQixDQUFDLGFBQTVCLENBQUEsQ0FBNUI7O0VBQ0EsQ0FBQSxDQUFFLElBQUYsRUFDRSxTQURGLENBQUEsR0FDNEIsQ0FBRSxPQUFBLENBQVEsNEJBQVIsQ0FBRixDQUF3QyxDQUFDLG9CQUF6QyxDQUFBLENBRDVCLEVBTkE7OztFQVdNLHlCQUFOLE1BQUEsdUJBQUEsUUFBcUMsVUFBckMsQ0FBQTs7SUFHWSxPQUFULE9BQVMsQ0FBRSxDQUFGLENBQUE7TUFDUixJQUFDLENBQUEsTUFBRCxDQUFRLENBQUUsQ0FBRixDQUFSO01BQ0EsSUFBZSxNQUFNLENBQUMsYUFBUCxDQUFxQixDQUFyQixDQUFmO0FBQUEsZUFBTyxLQUFQOztNQUNBLElBQXlFLE1BQU0sQ0FBQyxRQUFQLENBQWdCLENBQWhCLENBQXpFO0FBQUEsZUFBTyxJQUFDLENBQUEsSUFBRCxDQUFNLENBQUEsQ0FBQSxDQUFHLEdBQUEsQ0FBSSxDQUFKLENBQUgsQ0FBQSx3QkFBQSxDQUFOLEVBQTBDO1VBQUUsUUFBQSxFQUFVLENBQUEsR0FBSTtRQUFoQixDQUExQyxFQUFQOztBQUNBLGFBQU8sSUFBQyxDQUFBLElBQUQsQ0FBTSxDQUFBLENBQUEsQ0FBRyxHQUFBLENBQUksQ0FBSixDQUFILENBQUEsNEJBQUEsQ0FBTjtJQUpDLENBRFo7OztJQVFTLE9BQU4sSUFBTSxDQUFFLENBQUYsQ0FBQTtNQUNMLElBQUMsQ0FBQSxNQUFELENBQVEsQ0FBRSxDQUFGLENBQVI7TUFDQSxJQUFlLENBQUUsT0FBTyxDQUFULENBQUEsS0FBZ0IsUUFBL0I7QUFBQSxlQUFPLEtBQVA7O2FBQ0M7SUFISSxDQVJUOzs7SUFjVSxPQUFQLEtBQU8sQ0FBRSxDQUFGLENBQUE7TUFDTixJQUFDLENBQUEsTUFBRCxDQUFRLENBQUUsQ0FBRixDQUFSO01BQ0EsSUFBaUIsSUFBQyxDQUFBLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBWCxDQUFlLENBQWYsQ0FBakI7QUFBQSxlQUFPLEtBQVA7O01BQ0EsS0FBeUUsQ0FBRSxJQUFDLENBQUEsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFSLENBQVksQ0FBWixDQUFGLENBQXpFO0FBQUEsZUFBTyxJQUFDLENBQUEsSUFBRCxDQUFNLENBQUEsQ0FBQSxDQUFHLEdBQUEsQ0FBSSxDQUFKLENBQUgsQ0FBQSxpQ0FBQSxDQUFOLEVBQVA7O01BQ0EsS0FBeUUsQ0FBRSxDQUFFLEtBQUssQ0FBQyxJQUFOLENBQVcsQ0FBWCxDQUFGLENBQWdCLENBQUMsTUFBakIsS0FBMkIsQ0FBN0IsQ0FBekU7QUFBQSxlQUFPLElBQUMsQ0FBQSxJQUFELENBQU0sQ0FBQSxDQUFBLENBQUcsR0FBQSxDQUFJLENBQUosQ0FBSCxDQUFBLDBDQUFBLENBQU4sRUFBUDs7YUFDQztJQUxLOztFQWhCVixFQVhBOzs7Ozs7O0VBc0NBLE1BQU0sQ0FBQyxPQUFQLEdBQWlCO0lBQUUsQ0FBQSxFQUFLLElBQUksc0JBQUosQ0FBQTtFQUFQO0FBdENqQiIsInNvdXJjZXNDb250ZW50IjpbIlxuXG4ndXNlIHN0cmljdCdcblxuXG4jPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiMgeyBkZWJ1ZywgICAgICAgICAgICAgICAgfSA9IGNvbnNvbGVcbnsgcnByLCAgICAgICAgICAgICAgICAgIH0gPSAoIHJlcXVpcmUgJy4vbG91cGUtYnJpY3MnICkucmVxdWlyZV9sb3VwZSgpXG57IFR5cGUsXG4gIFR5cGVzcGFjZSwgICAgICAgICAgICB9ID0gKCByZXF1aXJlICcuL3Vuc3RhYmxlLW5hbm90eXBlcy1icmljcycgKS5yZXF1aXJlX25hbm90eXBlc192MigpXG5cblxuIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBJbnRlcm1pc3Npb25fdHlwZXNwYWNlIGV4dGVuZHMgVHlwZXNwYWNlXG5cbiAgIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBAaW50ZWdlcjogKCB4ICkgLT5cbiAgICBAYXNzaWduIHsgeCwgfVxuICAgIHJldHVybiB0cnVlIGlmIE51bWJlci5pc1NhZmVJbnRlZ2VyIHhcbiAgICByZXR1cm4gQGZhaWwgXCIje3JwciB4fSBpcyBhIG5vbi1pbnRlZ2VyIG51bWJlclwiLCB7IGZyYWN0aW9uOiB4ICUgMSwgfSBpZiBOdW1iZXIuaXNGaW5pdGUgeFxuICAgIHJldHVybiBAZmFpbCBcIiN7cnByIHh9IGlzIG5vdCBldmVuIGEgZmluaXRlIG51bWJlclwiXG5cbiAgIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBAdGV4dDogKCB4ICkgLT5cbiAgICBAYXNzaWduIHsgeCwgfVxuICAgIHJldHVybiB0cnVlIGlmICggdHlwZW9mIHggKSBpcyAnc3RyaW5nJ1xuICAgIDtmYWxzZVxuXG4gICMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgQHBvaW50OiAoIHggKSAtPlxuICAgIEBhc3NpZ24geyB4LCB9XG4gICAgcmV0dXJuIHRydWUgaWYgKCBAVC5pbnRlZ2VyLmlzYSB4IClcbiAgICByZXR1cm4gQGZhaWwgXCIje3JwciB4fSBpcyBub3QgYW4gaW50ZWdlciBhbmQgbm90IGEgdGV4dFwiICAgICAgICAgIHVubGVzcyAoIEBULnRleHQuaXNhIHggKVxuICAgIHJldHVybiBAZmFpbCBcIiN7cnByIHh9IGlzIGEgdGV4dCBidXQgbm90IHdpdGggYSBzaW5nbGUgY29kZXBvaW50XCIgdW5sZXNzICggKCBBcnJheS5mcm9tIHggKS5sZW5ndGggaXMgMSApXG4gICAgO3RydWVcbiAgICAjIHJldHVybiB0cnVlIGlmIE51bWJlci5pc1NhZmVJbnRlZ2VyIHhcbiAgICAjIHJldHVybiBAZmFpbCBcIiN7cnByIHh9IGlzIGEgbm9uLWludGVnZXIgbnVtYmVyXCIsIHsgZnJhY3Rpb246IHggJSAxLCB9IGlmIE51bWJlci5pc0Zpbml0ZSB4XG4gICAgIyByZXR1cm4gQGZhaWwgXCIje3JwciB4fSBpcyBub3QgZXZlbiBhIGZpbml0ZSBudW1iZXJcIlxuXG4jPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbm1vZHVsZS5leHBvcnRzID0geyBUOiAoIG5ldyBJbnRlcm1pc3Npb25fdHlwZXNwYWNlKCkgKSwgfVxuXG5cbiJdfQ==
